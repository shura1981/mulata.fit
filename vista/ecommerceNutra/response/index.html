<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="user-scalable=no,width=device-width, initial-scale=1, maximum-scale=1">
<meta http-equiv="x-ua-compatible" content="ie=edge" />
<link rel="icon" href="img/favicon.ico" type="image/x-icon" />
<link rel="stylesheet" href="https://nutramerican.com/css/mdb.min.css">
<script defer src="https://nutramerican.com/js/mdb.min.js"></script>
<link rel="stylesheet" href="../checkout/fuentes/fuentes/Lato/stylesheet.css">
<link rel="stylesheet" href="../checkout/fuentes/fontawesome-free-5.15.3-web/css/all.min.css">
<title>RESPUESTA DE LA TRANSACCIÓN</title>
<meta name="robots" content="index, follow" />
<meta name="googlebot" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1" />
<meta name="bingbot" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1" />
<link rel="canonical" href="https://www.nutramerican.com" />
<meta property="og:locale" content="es_ES" />
<meta property="og:type" content="article" />
<meta property="og:title" content="Bienvenido al link de pago de Megaplex" />
<meta property="og:description" content="Realiza el pago de tu pedido con tarjeta de crédito o PSE" />
<meta property="og:url" content="https://www.nutramerican.com" />
<meta property="og:site_name" content="PAGOS SEGUROS MEGAPLEX" />
<meta property="og:image" content="img/productos.jpg" />
<meta property="og:image:width" content="400" />
<meta property="og:image:height" content="400" />
<meta name="twitter:card" content="summary_large_image" />
<link rel="preconnect dns-prefetch" href="https://www.google-analytics.com">
<style>
    *{
font-family:  'Lato', sans-serif;
}

.img-fluid{
    max-width: 100%;
    height: auto;
}

#respuesta{
    font-weight: 800;
}


.unique-color-dark{
    background: #1d69e4;
    color: white;
}

</style>
<script defer>
  (function (context, trackingId, options) {
      const history = context.history;
      const doc = document;
      const nav = navigator || {};
      const storage = localStorage;
      const encode = encodeURIComponent;
      const pushState = history.pushState;
      const typeException = 'exception';
      const generateId = () => Math.random().toString(36);
      const getId = () => {
          if (!storage.cid) {
              storage.cid = generateId()
          }
          return storage.cid;
      };
      const serialize = (obj) => {
          var str = [];
          for (var p in obj) {
              if (obj.hasOwnProperty(p)) {
                  if(obj[p] !== undefined) {
                      str.push(encode(p) + "=" + encode(obj[p]));
                  }
              }
          }
          return str.join("&");
      };
      const track = (
          type, 
          eventCategory, 
          eventAction, 
          eventLabel, 
          eventValue, 
          exceptionDescription, 
          exceptionFatal
      ) => {
          const url = 'https://www.google-analytics.com/collect';
          const data = serialize({
              v: '1',
              ds: 'web',
              aip: options.anonymizeIp ? 1 : undefined,
              tid: trackingId,
              cid: getId(),
              t: type || 'pageview',
              sd: options.colorDepth && screen.colorDepth ? `${screen.colorDepth}-bits` : undefined,
              dr: doc.referrer || undefined,
              dt: doc.title,
              dl: doc.location.origin + doc.location.pathname + doc.location.search,
              ul: options.language ? (nav.language || "").toLowerCase() : undefined,
              de: options.characterSet ? doc.characterSet : undefined,
              sr: options.screenSize ? `${(context.screen || {}).width}x${(context.screen || {}).height}` : undefined,
              vp: options.screenSize && context.visualViewport ? `${(context.visualViewport || {}).width}x${(context.visualViewport || {}).height}` : undefined,
              ec: eventCategory || undefined,
              ea: eventAction || undefined,
              el: eventLabel || undefined,
              ev: eventValue || undefined,
              exd: exceptionDescription || undefined,
              exf: typeof exceptionFatal !== 'undefined' && !!exceptionFatal === false ? 0 : undefined,
          });
  
          if(nav.sendBeacon) {
              nav.sendBeacon(url, data)
          } else {
              var xhr = new XMLHttpRequest();
              xhr.open("POST", url, true);
              xhr.send(data);
          }
      };
      const trackEvent = (category, action, label, value) => track('event', category, action, label, value);
      const trackException = (description, fatal) => track(typeException, null, null, null, null, description, fatal);
      history.pushState = function (state) {
          if (typeof history.onpushstate == "function") {
              history.onpushstate({ state: state });
          }
          setTimeout(track, options.delay || 10);
          return pushState.apply(history, arguments);
      }
      track();
      context.ma = {
          trackEvent,
          trackException
      }
  })(window, "UA-134838124-1", {
      anonymizeIp: true,
      colorDepth: true,
      characterSet: true,
      screenSize: true,
      language: true
  });
  </script>
  
</head>
<body>
 
<header id="main-header" style="margin-top:10px">
<div class="container">
<div class="row justify-content-center">
<div class="col-12">
    <nav class="navbar navbar-expand-lg navbar-light bg-light">
        <div class="container-fluid">
          <nav aria-label="breadcrumb">
            <ol class="breadcrumb">
              <li class="breadcrumb-item"><a href="https://nutramerican.com/">inicio</a></li>
              <li class="breadcrumb-item"><a href="https://nutramerican.com/productos">productos</a></li>
              <li class="breadcrumb-item active" aria-current="page"><a href="#">respuesta</a></li>
            </ol>
          </nav>
        </div>
      </nav>
      </nav>
</div>
<div class="col-12 col-md-6 mt-3">
<img class="d-block mx-auto img-fluid"  src="img/LOGO3.svg" >
</div>
</div>
</div>
</header>
<div class="container">
<div class="row justify-content-center" style="margin-top:40px">
<div class="col-lg-8 col-12">
<h4 class="text-center"> Respuesta de la Transacción </h4>
<hr >
</div >
<div class="col-lg-8 col-12" >
<div class="table-responsive">
<table class="table table-bordered">
<tbody>
<tr>
<td>Referencia </td>
<td id="referencia"> </td >
</tr>
<tr>
<td class="bold"> Fecha </td>
<td id="fecha" >  </td>
</tr>
<tr>
<td> Respuesta </td>
<td id="respuesta">  </td>
</tr>
<tr>
<td> Motivo </td>
<td id="motivo">  </td>
</tr>
<tr>
<td class="bold"> Banco </td>
<td class="bold" id="banco">
</tr>
<tr>
<td class="bold"> Recibo </td>
<td id="recibo">  </td>
</tr>
<tr>
<td class="bold"> Total </td>
<td class="bold" id="total">
</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>


<div class="container-fluid">
    <div class="page-footer font-small unique-color-dark mt-5">
    <div style="background-color: #F2F2F2;">
    <div class="container">
    <!-- Grid row-->
    <div class="row py-4 d-flex align-items-center">
    <!-- Grid column -->
    <div class="col-md-6 col-lg-2 text-center text-md-left mb-4 mb-md-0">
    <h6 class="mb-0 pl-md-2" style="color: rgb(31, 30, 30); font-weight: 800; font-family: FuturaHb, Source Sans Pro, sans-serif;">PAGOS SEGUROS</h6>
    </div>
    <!-- Grid column -->
    <!-- Grid column -->
    <div class="col-md-6 col-lg-10 text-center text-md-right">
    ​<picture>
    <source alt="bipro lite" height="64px" class="mx-md-4 mb-3 mb-md-0" srcset="img/bannerzonapagos/comodo.webp" type="image/webp" >
    <img alt="bipro lite" height="64px" class="mx-md-4 mb-3 mb-md-0" src="img/bannerzonapagos/comodo.png" >
    </picture>
    ​<picture>
    <source alt="bipro ripped" height="64px" srcset="img/bannerzonapagos/intel-mcafee1.webp" type="image/webp" >
    <img alt="bipro ripped" height="64px" src="img/bannerzonapagos/intel-mcafee1.png" >
    </picture>
    ​<picture>
    <source alt="BIPRO CLASSIC" height="64px" class="mx-md-4 mt-3 mt-md-0" srcset="img/bannerzonapagos/CamaraColombianadeCE.webp"  type="image/webp">
    <img alt="BIPRO CLASSIC" height="64px" class="mx-md-4 mt-3 mt-md-0" src="img/bannerzonapagos/CamaraColombianadeCE.png" >
    </picture>
    </div>
    <!-- Grid column -->
    </div>
    <!-- Grid row-->
    </div>
    </div>
    <!-- Footer Links -->
    <div class="container text-center text-md-left mt-5">
    <!-- Grid row -->
    <div class="row mt-3 justify-content-center">
    <!-- Grid column -->
    <div class="col-12 col-md-4  mb-4 text-center">
    <!-- Content -->
    <h6 class="text-uppercase font-weight-bold text-center" style="font-weight: 800; font-family: FuturaHb, Source Sans Pro, sans-serif;">PROTECCIÓN AL COMPRADOR</h6>
    <i class="fas fa-shield-alt fa-3x "></i>
    </div>
    <!-- Grid column -->
    <!-- Grid column -->
    <div class="col-12 col-md-4  mb-4 text-center">
    <h6 class="text-uppercase font-weight-bold text-center" style="font-weight: 800; font-family: FuturaHb, Source Sans Pro, sans-serif;">ASESORÍA TELEFÓNICA</h6>
    <i class="fas fa-map-headset fa-3x "></i>
    <span style="font-size: 3em;"> #590</span>
    </div>
    <!-- Grid column -->
    <!-- Grid column -->
    <div class="col-12 col-md-4  mb-4 text-center">
    <h6 class="text-uppercase font-weight-bold text-center" style="font-weight: 800; font-family: FuturaHb, Source Sans Pro, sans-serif;">RASTREA TU PEDIDO</h6>
    <i class="fas fa-map-marked-alt fa-3x "></i>
    </div>
    <!-- Grid column -->
    </div>
    <!-- Grid row -->
    </div>
    <!-- Footer Links -->
    <!-- Copyright -->
    <div class="footer-copyright text-center py-3">© 2020 Copyright:
    <a > nutramerican.com</a>
    </div>
    <!-- Copyright -->
    </div>
    </div>

<!-- jQuery (necessary for Bootstrap"s JavaScript plugins) -->
<!-- prueba ?ref_payco=d1fbb2d245c3d39f9feec450 -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.js"> </script>
<!-- Include all compiled plugins (below), or include individual files as needed -->
<!-- <script type="text/javascript" src="js/mdb.min.js"></script> -->
<script>
function getQueryParam(param) {
location.search.substr(1)
.split("&")
.some(function(item) { // returns first occurence and stops
return item.split("=")[0] == param && (param = item.split("=")[1])
})
return param
}
$(document).ready(function() {
var ref_payco = getQueryParam("ref_payco");
 var urlapp = "https://secure.epayco.co/validation/v1/reference/" + ref_payco;
$.get(urlapp, function(response) {
if (response.success) {
if (response.data.x_cod_response == 1) {
// alert("Transaccion Aprobada");
console.log("transacción aceptada");
} 

if (response.data.x_cod_response == 2) {
console.log("transacción rechazada");
}
if (response.data.x_cod_response == 3) {
console.log("transacción pendiente");
} 
if (response.data.x_cod_response == 4) {
console.log("transacción fallida");
}
$("#fecha").html(response.data.x_transaction_date);
$("#respuesta").html(response.data.x_response);
$("#referencia").text(response.data.x_id_invoice);
$("#motivo").text(response.data.x_response_reason_text);
$("#recibo").text(response.data.x_transaction_id);
$("#banco").text(response.data.x_bank_name);
$("#autorizacion").text(response.data.x_approval_code);
const formatter = new Intl.NumberFormat('en-US', {
style: 'currency',
currency: 'USD',
minimumFractionDigits: 0
})
const money=formatter.format(response.data.x_amount);
$("#total").text(money + " " + response.data.x_currency_code);
} else {
// alert("Error consultando la información");
}
});
});
</script>
</body>
</html>  