function DisplayList(e,t,o,n){t.innerHTML="",n--;let a=o*n,r=a+o,i=e.slice(a,r);for(let e=0;e<i.length;e++){let o=i[e],n=document.createElement("div");grid?(n.classList.remove("col-12"),n.classList.add("col-lg-4","col-6","mb-4"),n.innerHTML=` \n<div class="card h-100">\n<div class="bg-image hover-zoom ripple" data-mdb-ripple-color="light">\n​<img class="img-fluid" loading="lazy" height="400" width="400"  src="${o.imageswebp.medium}"       alt="${o.producto}">\n<a arial-label="${o.producto}"  data-info="${o.codigo}"  >\n<div   class="mask">\n<div class="d-flex justify-content-start align-items-end h-100">\n${(()=>o.descuento>0?` <h5><span class="badge bg-danger ms-2">-${o.descuento}%</span></h5>`:"")()}\n</div>\n</div>\n<div class="hover-overlay">\n<div class="mask" style="background-color: rgba(251, 251, 251, 0.15)"></div>\n</div>\n</a>\n</div>\n<div class="card-body">\n<div>\n<div class="card-title">\n<h5 class="">${clamp(o.producto,15)}</h5>\n</div>\n<span class="text-reset">\n${(()=>0==o.descuento?`<p>${formatter.format(o.valor).replace(",",".")}</p>`:"")()}\n</span>\n${(()=>o.descuento>0?`<h6 class="mb-3">\n<s>${formatter.format(o.valor).replace(",",".")}</s><strong class="ms-2 text-danger">${getValue(o)}</strong>\n</h6>`:"")()}\n</div>\n\n<div class="d-flex d-md-none justify-content-center">\n<button aria-label="comprar" data-shop="${o.codigo}" type="button" class="btn btn-primary me-1 mb-1 btn-sm" >\nComprar\n</button>\n<button aria-label="añadir al carrito" data-add="${o.codigo}" type="button" class="btn btn-danger px-3 me-1 mb-1 btn-sm" >\n<i class="fas fa-cart-plus"></i>\n</button>\n</div>\n<div class="d-none d-md-flex justify-content-center">\n<button aria-label="comprar" data-shop="${o.codigo}" type="button" class="btn btn-primary me-1 mb-1">\nComprar\n</button>\n<button aria-label="añadir al carrito"  data-add="${o.codigo}" type="button" class="btn btn-danger px-3 me-2 mb-1">\n<i class="fas fa-cart-plus"></i>\n</button>\n<button aria-label="vista rápida" data-info="${o.codigo}" type="button" class="btn btn-danger px-3 mb-1">\n<i class="fas fa-search"></i>\n</button>\n</div>\n\n</div>\n</div>\n\n`):(n.classList.remove("col-lg-4","col-6","mb-4"),n.classList.add("col-12"),n.innerHTML=`\n<div class="flip-card my-3">\n<div class="flip-card-inner">\n<div class="flip-card-front" >\n<div class="card card-body c">\n<div class="media d-block d-md-flex">\n<a arial-label="${o.producto}" class="ripple" >\n​<picture>\n<source alt="${o.producto}" srcset="${o.imageswebp.medium}" type="image/webp" >\n<img class="d-flex  mb-md-0 mb-3 img-list"  src="${o.images.medium}"      alt="${o.producto}">\n</picture>\n</a>\n<div class="media-body text-left ml-md-3 ml-0 px-3">\n<h3 > ${o.producto}  </h3>\n<p> ${o.intro}</p>\n<a  class="text-reset">\n${(()=>0==o.descuento?`<p>${formatter.format(o.valor).replace(",",".")}</p>`:"")()}\n</a>\n${(()=>o.descuento>0?`<h6 class="mb-3">\n<s>${formatter.format(o.valor).replace(",",".")}</s><strong class="ms-2 text-danger">${getValue(o)}</strong>\n</h6>`:"")()}\n<div class="d-flex d-md-none text-left align-items-center">\n<button aria-label="comprar" data-shop="${o.codigo}" type="button" class="btn btn-primary me-1 mb-1 btn-sm" >\nComprar\n</button>\n<button aria-label="añadir al carrito" data-add="${o.codigo}" type="button" class="btn btn-danger px-3 me-1 mb-1 btn-sm " >\n<i class="fas fa-cart-plus"></i>\n</button>\n<span class="flex-grow-1"> </span>\n<span onclick="flip(${e})"> \n<small >Ver Tabla</small><i  class="fas fa-undo ms-1 "></i>\n</span>\n</div>\n<div class="d-none d-md-flex text-left">\n<button aria-label="comprar" data-shop="${o.codigo}" type="button" class="btn btn-primary me-1 mb-1">\nComprar\n</button>\n<button aria-label="añadir al carrito" data-add="${o.codigo}" type="button" class="btn btn-danger px-3 me-1 mb-1">\n<i class="fas fa-cart-plus"></i>\n</button>\n  </div>\n\n</div>\n</div>\n</div>\n</div>\n<div class="flip-card-back card" >\n<div class="panel-back">\n<h3 class="text-center"> Tabla nutricional de ${o.producto}  </h3>\n<img  onclick="showDialog('${o.tablasjpg.bigger}')"  src="${o.tablasjpg.medium}"   class="img-flip "  />\n<small class="text-center">Toca la imagen para ampliar </small>\n</div>\n<i onclick="flipReset(${e})" class="fas fa-undo back"></i>\n</div>\n</div>\n</div>\n\n`),t.appendChild(n)}startCart()}function SetupPagination(e,t,o){t.forEach(t=>{t.innerHTML="";let n=document.createElement("li");n.classList.add("page-item");let a=document.createElement("a");a.setAttribute("href","#"),a.classList.add("page-link","next"),a.innerText="Anterior",n.appendChild(a),n.addEventListener("click",function(){current_page>1&&current_page--,console.log(current_page),DisplayList(e,list_element,rows,current_page),lazyLoad();let t=document.querySelectorAll(".page-item.active");t.forEach(e=>{e.classList.remove("active")}),pagination_element.forEach(e=>{const t=e.querySelectorAll(".page-item");t[current_page].classList.add("active")}),loadingfixed()}),t.appendChild(n);let r=Math.ceil(e.length/o);total_p=r;for(let o=1;o<r+1;o++){let n=PaginationButton(o,e);t.appendChild(n)}let i=document.createElement("li");i.classList.add("page-item");let c=document.createElement("a");c.setAttribute("href","#"),c.classList.add("page-link","next"),c.innerText="Siguiente",i.appendChild(c),i.addEventListener("click",function(){current_page<total_p&&current_page++,console.log(current_page),DisplayList(e,list_element,rows,current_page),lazyLoad();let t=document.querySelectorAll(".page-item");t.forEach(e=>{e.classList.remove("active")}),pagination_element.forEach(e=>{const t=e.querySelectorAll(".page-item");t[current_page].classList.add("active")}),loadingfixed()}),t.appendChild(i)})}function PaginationButton(e,t){let o=document.createElement("li");o.classList.add("page-item");let n=document.createElement("a");return n.setAttribute("href","#"),n.classList.add("page-link"),n.innerText=e,o.appendChild(n),current_page==e&&o.classList.add("active"),o.addEventListener("click",function(){current_page=e,DisplayList(t,list_element,rows,current_page),lazyLoad();let n=document.querySelectorAll(".page-item.active");n.forEach(e=>{e.classList.remove("active")}),o.classList.add("active"),loadingfixed()}),o}const list_element=document.getElementById("list"),pagination_element=document.querySelectorAll(".pagination");let current_page=1,rows=12;var total_p=0;const asingCounter=e=>{const t=document.querySelectorAll(".counter");t.forEach(t=>{t.textContent=e})},clamp=(e,t)=>e.length>t&&IsMobil()?e.substring(0,t)+"...":e,ordenar=function(e,t){var o=e.producto.toLowerCase(),n=t.producto.toLowerCase();return o<n?-1:o>n?1:0},startCart=()=>{const e=document.querySelectorAll("[data-add]"),t=document.querySelectorAll("[data-shop]"),o=document.querySelectorAll("[data-info]"),n=e=>{document.querySelector(".toast-body").textContent=e;let t=mdb.Toast.getInstance(document.getElementById("basic-primary-example"));t.show()},a=(e,t)=>{const o=new Map;return e.forEach(e=>{const n=t(e),a=o.get(n);a?a.push(e):o.set(n,[e])}),Array.from(o)},r=e=>Math.round(e.valor-e.valor*e.descuento/100),i=e=>{carrito=getcar(),carrito.push(e);const t=a(carrito,e=>e.producto.producto);let o=[];t.forEach(e=>{let t=0;e[1].forEach(e=>{t+=e.cantidad});const n={producto:e[0],cantidad:t,valor:e[1][0].valor,total:t*e[1][0].valor,img:e[1][0].producto.img};o.push(n)}),total=o.reduce((e,t)=>e+t.total,0),cantidad=o.reduce((e,t)=>e+t.cantidad,0);const n=btoa(JSON.stringify(carrito));localStorage.setItem("carrito",n),asingCounter(carrito.length)};e&&e.forEach(e=>{e.addEventListener("click",e=>{let t=0;t="I"===e.target.nodeName?e.target.parentNode.dataset.add:e.target.dataset.add;const o=tempProductos.find(e=>e.codigo==t);i({producto:{producto:o.producto,img:o.images.small,valor:o.valor,descuento:o.descuento},cantidad:1,valor:r(o)}),n(o.producto)})}),t&&t.forEach(e=>{e.addEventListener("click",e=>{let t=e.target.dataset.shop;const o=tempProductos.find(e=>e.codigo==t);i({producto:{producto:o.producto,img:o.images.small,valor:o.valor,descuento:o.descuento},cantidad:1,valor:r(o)}),location.href=host+"ecommerceNutra/checkout/index.html"})}),o&&o.forEach(e=>{e.addEventListener("click",e=>{let t=0;if(console.log(e.target,e.target.parentNode.parentNode),t="I"===e.target.nodeName?e.target.parentNode.dataset.info:e.target.dataset.info,e.target.classList.contains("mask")&&(t=e.target.parentNode.parentNode.dataset.info),console.log(t),0==t||null==t)return null;const o=tempProductos.find(e=>e.codigo==t),a=()=>{document.querySelector("body").classList.remove("noscroll"),document.querySelector(".info-modal").classList.remove("show-info-modal")},c=`\n<div class="container">\n<div class="row">\n<div class="col-12">\n\n<div\nstyle="--swiper-navigation-color: rgb(0, 102, 255); --swiper-pagination-color: #fff; position: relative;" class="swiper mySwiper3">\n<div class="swiper-wrapper" >\n<div class="swiper-slide">\n<a  href="${o.imageswebp.bigger}" target="_blank">\n<img  data-index="0"  src="${o.imageswebp.medium}"   alt="${o.producto}" >\n</a>\n</div>\n<div class="swiper-slide">\n<a href="${o.tablasjpg.bigger}" target="_blank">\n<img  style="max-width: 100% !important; height: auto !important;" data-index="1"  src="${o.tablasjpg.medium}" alt="tabla nutricional de ${o.producto}"  />\n</a>\n</div>\n</div>\n\n\n<div thumbsSlider="" class="swiper mySwiper1">\n<div class="swiper-wrapper" style="width: 40%;">\n  <div class="swiper-slide">\n    <img src="${o.imageswebp.small}"  />\n    </div>\n  <div class="swiper-slide">\n  <img src="${o.tablasjpg.small}"  />\n  </div>\n</div>\n</div>\n\n</div>\n</div>\n</div>\n\n<div class="d-flex justify-content-center mt-3 mb-5 mb-md-0 mt-md-5">\n<button data-shop="${o.codigo}" type="button" class="btn btn-card-info-shop me-2 mb-1">\nComprar\n</button>\n<button data-add="${o.codigo}"  type="button" class="btn btn-card-info-add  px-3  mb-1">\n<i class="fas fa-cart-plus"></i> Añadir\n<span class="d-none d-md-inline-block"> al carrito </span>\n</button>\n</div>\n`;document.getElementById("img-info").innerHTML=c;var s=new Swiper(".mySwiper1",{spaceBetween:5,slidesPerView:4,freeMode:!0,watchSlidesProgress:!0});new Swiper(".mySwiper3",{loop:!1,spaceBetween:5,effect:"cube",grabCursor:!0,autoplay:{delay:4500,disableOnInteraction:!0},cubeEffect:{shadow:!0,slideShadows:!0,shadowOffset:1,shadowScale:.54},thumbs:{swiper:s}});const d=document.getElementById("img-info").querySelector("[data-add]"),l=document.getElementById("img-info").querySelector("[data-shop]");d.addEventListener("click",e=>{let t=0;t="I"===e.target.nodeName?e.target.parentNode.dataset.add:e.target.dataset.add;const o=tempProductos.find(e=>e.codigo==t);i({producto:{producto:o.producto,img:o.images.small,valor:o.valor,descuento:o.descuento},cantidad:1,valor:r(o)}),n(o.producto),a()}),l.addEventListener("click",e=>{let t=e.target.dataset.shop;const o=tempProductos.find(e=>e.codigo==t);i({producto:{producto:o.producto,img:o.images.small,valor:o.valor,descuento:o.descuento},cantidad:1,valor:r(o)}),location.href=host+"ecommerceNutra/checkout/index.html",a()});const u=`\n<h4> ${o.producto}</h4>\n<h3> ${formatter.format(r(o)).replace(",",".")}</h3>\n<div>\n${o.description}\n</div>\n\n`;document.getElementById("body-info").innerHTML=u,document.querySelector("body").classList.add("noscroll"),document.querySelector(".info-modal").classList.add("show-info-modal")})})},IsMobil=()=>!!(navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/webOS/i)||navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/BlackBerry/i)||navigator.userAgent.match(/Windows Phone/i)),loadingfixed=()=>{if(!1===grid)if(IsMobil())fixedHeigth();else{const e=this.setTimeout(()=>{fixedHeigth(),clearTimeout(e)},300)}},getValue=e=>formatter.format(Math.round(e.valor-e.valor*e.descuento/100)).replace(",","."),formatter=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0});var grid=!0,isLoadZoom=!1;const bestsales=document.getElementById("bestsales");productos.filter(e=>e.bestsale>0).sort(ordenar).slice(0,5).forEach(e=>{bestsales.innerHTML+=`\n  <li data-info="${e.codigo}"   class="list-group-item media">\n                                    <img src="${e.imageswebp.small}" height="64" width="64">\n                                    <div class="media-item">\n                                        <p>${e.producto} </p>\n                                        ${(()=>0==e.descuento?`<p>${formatter.format(e.valor).replace(",",".")}</p>`:"")()}\n                                </span>\n                                ${(()=>e.descuento>0?`<h6 class="mb-3">\n                                <s>${formatter.format(e.valor).replace(",",".")}</s><strong class="ms-2 text-danger">${getValue(e)}</strong>\n                                </h6>`:"")()}\n                                    </div>\n                                </li>\n  \n  `}),DisplayList(productos,list_element,rows,current_page),SetupPagination(productos,pagination_element,rows);const listToogle=document.querySelectorAll(".list");listToogle.forEach(e=>{e.addEventListener("click",()=>{grid=!1,DisplayList(productos,list_element,rows,current_page),loadingfixed(),isLoadZoom||loadZoom()})});const gridToogle=document.querySelectorAll(".grid");gridToogle.forEach(e=>{e.addEventListener("click",()=>{grid=!0,DisplayList(productos,list_element,rows,current_page),lazyLoad()})});const flip=e=>{const t=document.querySelectorAll(".flip-card-inner"),o=t[e];o.style.transform="rotateY(180deg)"},flipReset=e=>{const t=document.querySelectorAll(".flip-card-inner"),o=t[e];o.style.transform="rotateY(0deg)"},fixedHeigth=()=>{const e=document.querySelectorAll(".flip-card-inner"),t=document.querySelectorAll(".c"),o=document.querySelectorAll(".flip-card-back");for(let n=0;n<t.length;n++){const a=t[n],r=a.offsetHeight,i=r;e[n].style.height=`${r}px`,o[n].style.height=`${i}px`}},showDialog=e=>{const t=document.querySelector(".img-dialog");t.classList.remove("d-none");document.querySelector(".content-img");document.getElementById("zoom").setAttribute("src",e)},lazyLoad=()=>{const e={threshold:0,rootMargin:"0px 0px -100px 0px"},t=document.querySelectorAll("[data-imgbaner]"),o=t=>{const o=new IntersectionObserver(e=>{let t=e[0].target;if(!0===e[0].isIntersecting){const e=t.getAttribute("data-imgbaner");t.setAttribute("src",e),t.addEventListener("load",e=>{t.classList.add("fadeIn")}),o.disconnect()}},e);o.observe(t)};t.forEach(o)},findModulosProteicos=()=>{productos=tempProductos.filter(e=>"MÓDULOS PROTEICOS"==e.category),DisplayList(productos,list_element,rows,current_page),SetupPagination(productos,pagination_element,rows),lazyLoad()},findperderpeso=()=>{productos=tempProductos.filter(e=>"PÉRDIDA DE GRASA"==e.category),DisplayList(productos,list_element,rows,current_page),SetupPagination(productos,pagination_element,rows),lazyLoad()},findhipercaloricos=()=>{productos=tempProductos.filter(e=>"HIPERCALÓRICOS"==e.category),DisplayList(productos,list_element,rows,current_page),SetupPagination(productos,pagination_element,rows),lazyLoad()},findnutriciong=()=>{productos=tempProductos.filter(e=>"NUTRICIÓN GENERAL"==e.category),DisplayList(productos,list_element,rows,current_page),SetupPagination(productos,pagination_element,rows),lazyLoad()},findenergia=()=>{productos=tempProductos.filter(e=>"AMINOÁCIDOS Y ENERGÍA"==e.category),DisplayList(productos,list_element,rows,current_page),SetupPagination(productos,pagination_element,rows),lazyLoad()},findsnacks=()=>{productos=tempProductos.filter(e=>"SNACKS"==e.category),DisplayList(productos,list_element,rows,current_page),SetupPagination(productos,pagination_element,rows),lazyLoad()},bipro=()=>{const e=new RegExp("bipro","gi");productos=tempProductos.filter(t=>t.producto.match(e)),DisplayList(productos,list_element,rows,current_page),SetupPagination(productos,pagination_element,rows),lazyLoad()},findall=()=>{productos=tempProductos,DisplayList(productos,list_element,rows,current_page),SetupPagination(productos,pagination_element,rows),lazyLoad()},findobjperdergrasa=()=>{productos=tempProductos.filter(e=>10202612==e.codigo||100505==e.codigo||100520==e.codigo||100542==e.codigo||101505==e.codigo||101515==e.codigo||102007==e.codigo||103023==e.codigo||103022==e.codigo||100540==e.codigo||100514==e.codigo||100517==e.codigo),DisplayList(productos,list_element,rows,current_page),SetupPagination(productos,pagination_element,rows),lazyLoad()},findobjwomen=()=>{productos=tempProductos.filter(e=>100517==e.codigo||103030==e.codigo||10202612==e.codigo||102033==e.codigo||102060==e.codigo||100520==e.codigo||102061==e.codigo),DisplayList(productos,list_element,rows,current_page),SetupPagination(productos,pagination_element,rows),lazyLoad()},findctgmodulos=()=>{productos=tempProductos.filter(e=>100520==e.codigo||100518==e.codigo||100505==e.codigo||100507==e.codigo||100542==e.codigo||102060==e.codigo||102007==e.codigo||102011==e.codigo||102061==e.codigo||102021==e.codigo||102033==e.codigo),DisplayList(productos,list_element,rows,current_page),SetupPagination(productos,pagination_element,rows),lazyLoad()},findctghiper=()=>{productos=tempProductos.filter(e=>101070==e.codigo||101075==e.codigo||101005==e.codigo||101010==e.codigo||101015==e.codigo||100542==e.codigo||102060==e.codigo||102011==e.codigo||102012==e.codigo||100518==e.codigo),DisplayList(productos,list_element,rows,current_page),SetupPagination(productos,pagination_element,rows),lazyLoad()},findobjdefinicion=()=>{productos=tempProductos.filter(e=>10202612==e.codigo||100520==e.codigo||100514==e.codigo||100510==e.codigo||100512==e.codigo||100542==e.codigo||102061==e.codigo||102033==e.codigo),DisplayList(productos,list_element,rows,current_page),SetupPagination(productos,pagination_element,rows),lazyLoad()},findobjmantenimiento=()=>{productos=tempProductos.filter(e=>103022==e.codigo||103023==e.codigo||102007==e.codigo||103040==e.codigo||102061==e.codigo||100510==e.codigo||100505==e.codigo||100507==e.codigo||100542==e.codigo),DisplayList(productos,list_element,rows,current_page),SetupPagination(productos,pagination_element,rows),lazyLoad()},findcrossfit=()=>{productos=tempProductos.filter(e=>102060==e.codigo||102021==e.codigo||102033==e.codigo||100518==e.codigo||101075==e.codigo||100514==e.codigo||100542==e.codigo||102061==e.codigo),DisplayList(productos,list_element,rows,current_page),SetupPagination(productos,pagination_element,rows),lazyLoad()},findpesas=()=>{productos=tempProductos.filter(e=>102060==e.codigo||100522==e.codigo||100520==e.codigo||100505==e.codigo||100507==e.codigo||100510==e.codigo||100512==e.codigo||100518==e.codigo||100514==e.codigo||100542==e.codigo||102033==e.codigo||102021==e.codigo||100540==e.codigo||103040==e.codigo||102061==e.codigo||102007==e.codigo),DisplayList(productos,list_element,rows,current_page),SetupPagination(productos,pagination_element,rows),lazyLoad()},findbailoterapia=()=>{productos=tempProductos.filter(e=>102060==e.codigo||102033==e.codigo||102061==e.codigo||102007==e.codigo||102033==e.codigo||102011==e.codigo||102012==e.codigo||101515==e.codigo||101505==e.codigo||10202612==e.codigo),DisplayList(productos,list_element,rows,current_page),SetupPagination(productos,pagination_element,rows),lazyLoad()},findpilates=()=>{productos=tempProductos.filter(e=>100522==e.codigo||100520==e.codigo||100507==e.codigo||100510==e.codigo||103040==e.codigo||103040==e.codigo||100540214==e.codigo||1005402==e.codigo||102061==e.codigo||103022==e.codigo||100512==e.codigo),DisplayList(productos,list_element,rows,current_page),SetupPagination(productos,pagination_element,rows),lazyLoad()},findresistencia=()=>{productos=tempProductos.filter(e=>101015==e.codigo||100507==e.codigo||102060==e.codigo||100542==e.codigo||102011==e.codigo||102012==e.codigo||102033==e.codigo||102061==e.codigo||102021==e.codigo||101075==e.codigo),DisplayList(productos,list_element,rows,current_page),SetupPagination(productos,pagination_element,rows),lazyLoad()},findValue=e=>{const t=new RegExp(e,"gi");return productos=tempProductos.filter(e=>e.producto.match(t)),DisplayList(productos,list_element,rows,current_page),SetupPagination(productos,pagination_element,rows),lazyLoad(),productos.length},all=document.querySelectorAll(".all");all.forEach(e=>{e.addEventListener("click",()=>{reset(),findall(),ocultar()})}),document.getElementById("ctgmodulos").addEventListener("click",()=>{reset(),findModulosProteicos(),ocultar()}),document.getElementById("ctgpederpeso").addEventListener("click",()=>{reset(),findperderpeso(),ocultar()}),document.getElementById("ctghiper").addEventListener("click",()=>{reset(),findhipercaloricos(),ocultar()}),document.getElementById("ctgpenergia").addEventListener("click",()=>{reset(),findenergia(),ocultar()}),document.getElementById("ctgsnacks").addEventListener("click",()=>{reset(),findsnacks(),ocultar()}),document.getElementById("ctgnutricion").addEventListener("click",()=>{reset(),findnutriciong(),ocultar()}),document.getElementById("crossfit").addEventListener("click",()=>{reset(),findcrossfit(),ocultar()}),document.getElementById("resistencia").addEventListener("click",()=>{reset(),findresistencia(),ocultar()}),document.getElementById("pesas").addEventListener("click",()=>{reset(),findpesas(),ocultar()}),document.getElementById("autocarga").addEventListener("click",()=>{reset(),findobjdefinicion(),ocultar()}),document.getElementById("bailoterapia").addEventListener("click",()=>{reset(),findbailoterapia(),ocultar()}),document.getElementById("pilates").addEventListener("click",()=>{reset(),findpilates(),ocultar()});const reset=()=>{window.scrollTo(0,0),grid=!0,current_page=1},show=()=>{const e=document.querySelector(".fondo");if(e){e.classList.remove("d-none"),document.querySelector(".filtermobile").style.left="0px",document.querySelector("body").classList.add("noscroll");const t=document.querySelector(".resultados"),o=document.getElementById("totalr");t&&t.classList.add("d-none"),o&&(o.textContent="")}},ocultar=()=>{const e=document.querySelector(".filtermobile");e&&(e.style.left="-100%",document.querySelector(".fondo").classList.add("d-none"),document.querySelector("body").classList.remove("noscroll"),document.getElementById("search").value="")},filterbyexpensive=()=>{productos=tempProductos.sort(function(e,t){return e.valor-t.valor}),DisplayList(productos,list_element,rows,current_page),SetupPagination(productos,pagination_element,rows),lazyLoad()},filterbycheap=()=>{productos=tempProductos.sort(function(e,t){return t.valor-e.valor}),DisplayList(productos,list_element,rows,current_page),SetupPagination(productos,pagination_element,rows),lazyLoad()},filterpromos=()=>{productos=tempProductos.sort(function(e,t){return t.promo-e.promo}),DisplayList(productos,list_element,rows,current_page),SetupPagination(productos,pagination_element,rows),lazyLoad()},filterbydefault=()=>{productos=tempProductos.sort(function(e,t){return e.orden-t.orden}),DisplayList(productos,list_element,rows,current_page),SetupPagination(productos,pagination_element,rows),lazyLoad()};var carrito=[];let total=0,cantidad=0;const getcar=()=>{const e=localStorage.getItem("carrito");return e?JSON.parse(atob(e)):[]};window.addEventListener("orientationchange",function(e){console.log("the orientation of the device is now xx"+e.target.screen.orientation.angle);const t=e.target.screen.orientation.angle;90==t&&console.log("landscape");const o=this.setTimeout(()=>{fixedHeigth(),clearTimeout(o)},100)}),window.addEventListener("DOMContentLoaded",()=>{lazyLoad();const e=document.querySelector(".background");e.classList.add("clip-path"),document.querySelector("body").classList.remove("noscroll"),e.addEventListener("transitionend",function(t){e.classList.add("d-none")},!1);window.matchMedia("(max-width: 760px)");var t=new Swiper(".mySwiper2",{loop:!1,grabCursor:!0,autoplay:{delay:4500,disableOnInteraction:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},effect:"creative",creativeEffect:{prev:{translate:[0,0,-400]},next:{translate:["100%",0,0]}}});t.on("click",function(){const e=clickSwiper[this.activeIndex];location.href=e})}),document.getElementById("btnfilter").addEventListener("click",()=>{show()}),document.querySelector(".fondo").addEventListener("click",()=>{ocultar()});const options={"Mayor precio":filterbycheap,"Más económico":filterbyexpensive,Promociones:filterpromos,"Por defecto":filterbydefault},selectElement=document.querySelectorAll(".select");selectElement.forEach(e=>{e.addEventListener("change",e=>{reset(),options[e.target.value]()})}),document.getElementById("search").addEventListener("keyup",e=>{const t=document.getElementById("search").value;grid=!0,current_page=1;const o=document.querySelector(".resultados"),n=document.getElementById("totalr");if(t.length>0){const e=findValue(t);o&&o.classList.remove("d-none"),n&&(n.textContent=e)}else findall(),o&&o.classList.add("d-none"),n&&(n.textContent=""),ocultar()});const getUrlParameter=e=>{e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t=new RegExp("[\\?&]"+e+"=([^&#]*)"),o=t.exec(location.search);return null===o?"":decodeURIComponent(o[1].replace(/\+/g," "))},filterQueryParam={modulosproteicos:findModulosProteicos,perdidapeso:findperderpeso,hipercaloricos:findhipercaloricos,nutriciongeneral:findnutriciong,energiarecuperacion:findenergia,snacks:findsnacks,bipro:bipro,women:findobjwomen};var category=getUrlParameter("category");category&&filterQueryParam[category]();const cerrarInfo=()=>{document.querySelector("body").classList.remove("noscroll"),document.querySelector(".info-modal").classList.remove("show-info-modal")},loadScript=e=>new Promise(function(t,o){const n=document.createElement("script");let a=!1;n.type="text/javascript",n.src=e,n.defer=!0,n.onerror=function(e){o(e,n)},n.onload=n.onreadystatechange=function(){a||this.readyState&&"complete"!=this.readyState||(a=!0,t("ok"))};const r=document.getElementsByTagName("script")[0];r.parentElement.insertBefore(n,r)}),fetchStyle=e=>new Promise((t,o)=>{let n=document.createElement("link");n.type="text/css",n.rel="stylesheet",n.onload=function(){t("ok"),console.log("style has loaded")},n.href=e,document.getElementsByTagName("head")[0].appendChild(n)}),cargarAsesoria=()=>{fetch("../asesoriaModal.html?v=3").then(e=>e.text()).then(e=>{document.getElementById("chat").innerHTML+=e,fetchStyle("../css/chatAsesoriaModal.css?v=1"),loadScript("../js/chatAsesoriaModal.js?v=1");const t=document.getElementById("btn-asesoria"),o=document.getElementById("closechat"),n=document.querySelector(".chat-modal");o.addEventListener("click",()=>{document.querySelector("body").classList.remove("noscroll"),n.classList.remove("show-chat-modal"),clearChat()}),t.addEventListener("click",()=>{n.classList.add("show-chat-modal"),document.querySelector("body").classList.add("noscroll")});const a=document.querySelectorAll(".close-modal");a.forEach(e=>{e.addEventListener("click",e=>{document.querySelector("body").classList.remove("noscroll"),n.classList.remove("show-chat-modal"),clearChat()})})})},loadZoom=()=>{loadScript("https://nutramerican.com/js/pinch-zoom.umd.min.js").then(e=>{isLoadZoom=!0,console.log("c..");const t=document.querySelector(".content-img");new PinchZoom.default(t,{});const o=document.querySelector(".pinch-zoom-container");o&&o.addEventListener("click",function(e){e.target===this&&document.querySelector(".img-dialog").classList.add("d-none")})})},clickSwiper={0:"https://nutramerican.com/producto/biproclassic_pinacolada3l",1:"https://nutramerican.com/producto/burnerstacklata",2:"https://nutramerican.com/producto/myth"};